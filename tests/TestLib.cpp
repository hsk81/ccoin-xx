/*
 * File:   Base58Test.cpp
 * Author: hsk81
 */

#include "./TestLib.h"

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

#define TEST_SRCDIR "./tests"

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////

gchar *TestLib::filename(const gchar *basename) {

    return g_strdup_printf("%s/%s", TEST_SRCDIR, basename);
}

json_t *TestLib::read_json(const gchar *filename) {

    json_error_t error;
    return json_load_file(filename, JSON_REJECT_DUPLICATES, &error);
}

void TestLib::dumphex(const gchar *prefix, gconstpointer pointer, gsize size) {

    if (prefix) {
        fprintf(stderr, "%s: ", prefix);
    }

    const guchar *puch = (guchar*) pointer;
    for (guint i = 0; i < size; i++) {
        fprintf(stderr, "%02x", puch[i]);
    }

    fprintf(stderr, "\n");
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////
